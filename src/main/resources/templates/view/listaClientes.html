<!DOCTYPE html>
<html lang="pt"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org" 
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<style>
 body{
	background-color: aquamarine;
}
</style>
<meta charset="UTF-8">
<title>Lista de clientes</title>
 <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
      <h1>Listar Clientes</h1>
<div th:if="${msgSucesso} != null">
 <b  th:text="${msgSucesso}" style="color: blue;"></b>
  <br/><br/>
 </div>
 
     
     <!-- Esse formulário  enviar os dados com uma url lista inicial do controle,uma url para o método especifico de listar -->
    <form th:action="@{/Clientes/listagem}" method="get">   
      <table>
          <tr>
           <td>Nome:</td>
           <td>    
           <input type="text" th:name="nome"/>
           </td>
         </tr>
           <tr>
           <td>Telefone:</td>
           <td>
           <input type="text" th:name="telefone"/>
           </td>
         </tr>
         <tr>
           <td>Endereço:</td>
           <td>
           <input type="text" th:name="endereco"/>
           </td>
          <tr>
           
           <td colspan="2">
           <input type="checkbox" th:name="mostrarClientes"
              th:value="true"/>
              Listar todas vagas
           </td>
         </tr>
         
      </table>
         
         <input type="submit" value="listar"/>
           <input type="submit" value="Voltar"
          formaction="/" formmethod="get"/>
           
     </form>
         <div  th:if="${not #lists.isEmpty(clienteCadastrados)}">
         <table>
          <tr>
            
            <th>Nome</th>
            
            <th>Telefone</th>
            
            <th>Endereço</th>
            
            <th>Opções</th>
            <th th:if="${mostrarClientes}!= null"></th>
          </tr>  
            <tr th:each=" cliente: ${clienteCadastrados}">
               
               <td th:text="${cliente.nome}"></td>
               
               <td th:text="${cliente.telefone}"></td>
               
               <td th:text="${cliente.endereco}"></td>
             
               <td th:if="${listarCli}"></td>
                 <td>
                  
                <a th:href="'/Vagas/editarVaga/' + ${v.id}">editar</a>
                
                 <a th:href="'/Vagas/excluir/' + ${v.id}" th:onclick="if(!confirm('Deseja excluir essa vaga?'))return false">Exluir 
                 </a>
              </td>
            </tr>
         </table>
         </div>
          <!--JavaScript at end of body for optimized loading-->
      <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
</body>
</html>